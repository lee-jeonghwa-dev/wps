# 배민찬 copy site 구현을 위한 Django project

# 폴더 구조 및 파일 설명

## app/
- Django 폴더
#### config/
- Django 실행을 위한 setting 관련 파일
#### bill/
- 장바구니, 주문 관련 모델
#### members/
- 사용자 관련 모델
#### items/
- item(반찬), 카테고리 관련 모델


### .config/, .elasticbeanstalk/, .secrets/
- 배포에 필요한 설정 모음

### requirements.txt
- 개발과정에서 쓴 모든 package 목록

### requirements_production.txt
- production에서 꼭 필요한 package 목록

### Dockerfile, deploy.sh
- 배포에 사용되는 dockerfile
- 배포시 .secrets를 git add 했다가 해제하는 명령어가 포함된 스크립트 파일

### jupyter/
- data 크롤링을 위해서 사용한 파일을 모아둔 폴더


# app/ 폴더 상세  설명
- config/ 폴더를 제외한 bill/, members/, item/에 모델과 API 제공을 위한 코드가 있음
### members/, items/, bill/
- 중요 file
  - models.py : DB 구성을 위한 class들이 있음
  - urls.py: API를 접근할 수 있는 URL에서 실제 작동 함수로 연결해줌
  - apis.py, serializers.py: (구버전) API를 제공하기 위해 요청을 받아서 데이터를 제공하거나 DB에 저장, 수정, 삭제하는 일을 실제로 수행하록 함.
  - new_apis.py, new_serializers.py: (신버전) 처음 구현한 API 접근 URL이 RESTful하지 않다는 피드백을 받아서 좀더 RESTful한 방법으로 수정하면서 APIView와 serializer를 좀더 원래 목적에 맞으며, DRF에서 제공하는 더 추상화 된 모듈을 이용하고자 새롭게 구성함.  

### config/
- urls.py: (구버전) API 접근 url
- new_urls.py: (신버전) API 접근 url


# 프로젝트 실행하며 알게된 점, 개선사항
### BD 모델링 작업
- 처음 DB모델을 만드는데 나름 많은 시간을 들였고 같은 backend 팀원과 많은 의견을 나누었다고 생각했는데 실제로 구현하고 보니 좀더 시간을 들여서 미니 프로젝트같이 한번 실습해보고 확정하거나, 최소한 구현 되었을 때 데이터의 생성, 이동, 변환등을 구체적으로 시나리오를 생각해보고 원 사이트와 비교해보는 시간에 좀더 투자해도 좋았을 것 같다.
  - 장바구니 모델은 현재보다 세분화해서 구성하는 것이 나을 듯하다. 현재는 user/item(반찬)/수량/주문여부 를 기반으로 하나의 item 별로 관리를 하는데, 장바구니는 user별로 하나씩만 있어야하는 것이므로 item을 아우르는 장바구니 table을 따로 만들고, item별 관리 table을 장바구니에 있을 때와 주문 후를 따로 관리하는 table을 따로 만드는 것도 좋은 방법이 되었을 것 같다.
- class의 위치, 네이밍
  - 장바구니와 주문의 경우 네이밍을 모델에서는 각각 Basket, Bill이라고 했다. Bill의 경우 순서를 뜻하는 order와 혼동을 우려해서 지었지만 Order로 짓는 편이 이해에 더 나을 것같다. 그래서 Basket안에 Foreign key로 선언할 때는 order를 사용했다.
  - basket은 입력받을 때는 cart_item이라는 용어를 많이 사용했다.
  - 하나의 class가 하나의 table이 되는데 url의 설계나 class의 역할을 고려했을때 현재의 모델이 최적인지는 의문이다.

### APIView, serializer 구성
- 두가지에 대한 명확한 이해가 부족한 상태에서 첫 구성을 시작해서 일단 원하는 결과가 나오는 API를 완성하였지만, 완성도는 떨어진다는 것을 느낌
- 설계한 URL이 RESTful하지 않으므로 수정하라는 강사님 피드백을 받고 동시에 APIView, serializer를 다시 구현함.
- APIView의 경우 APIView(library)만을 이용하다가 generic(library)을 이용하여 추상화하고자 했으나 조금만 새로운 로직이 들어가면 적용하기가 힘들었음
- 기본적인 list, create, retrieve, update, delete는 처음부터 generic을 이용해서 해결하도록 serializer, queryset을 잘 설계해야한다는 것을 배움
